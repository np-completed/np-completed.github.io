
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="mike madsen">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.11">
    
    
      
        <title>Poetry package manager - ml-papers-with-code</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#poetry-package-manager" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ml-papers-with-code" class="md-header__button md-logo" aria-label="ml-papers-with-code" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ml-papers-with-code
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Poetry package manager
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ml-papers-with-code" class="md-nav__button md-logo" aria-label="ml-papers-with-code" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ml-papers-with-code
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          git
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="git" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_branching/" class="md-nav__link">
        Branching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_diff/" class="md-nav__link">
        Diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_log/" class="md-nav__link">
        Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_merge/" class="md-nav__link">
        Merge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_pull_stash/" class="md-nav__link">
        Pull and Stash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_rebase/" class="md-nav__link">
        Rebase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_workflow/" class="md-nav__link">
        Workflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git_install_config/" class="md-nav__link">
        Install git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../git/ssh_config/" class="md-nav__link">
        Setup SSH
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Github Actions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Github Actions" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Github Actions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh_actions/build-push-image/" class="md-nav__link">
        Build and Push Image to ghcr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh_actions/sbom/" class="md-nav__link">
        Software Bill of Materials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh_actions/cachetest/" class="md-nav__link">
        Cache Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh_actions/dependabot/" class="md-nav__link">
        Dependabot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh_actions/runner/" class="md-nav__link">
        Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh_actions/share_docker_job/" class="md-nav__link">
        Share Docker Job
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Hosting and Deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hosting and Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Hosting and Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hosting-and-deployment/gh-pages/" class="md-nav__link">
        Github Pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hosting-and-deployment/gh-pages-private-repo/" class="md-nav__link">
        Private Repo with GH Pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hosting-and-deployment/enable_github_pages/" class="md-nav__link">
        Enable GH Pages
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Sagemaker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sagemaker" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Sagemaker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sagemaker/secure-sagemaker-network-firewall/" class="md-nav__link">
        Secure Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sagemaker/secure-sagemaker-network-firewall-summary/" class="md-nav__link">
        Secure Network Summary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#poetry-features" class="md-nav__link">
    Poetry Features
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="poetry-package-manager">Poetry package manager</h1>
<p>Poetry helps you declare, manage and install dependencies of Python projects, ensuring you have the right stack everywhere.</p>
<p>Personally , I use <code>pyenv</code> and <code>poetry</code> for production projects. These decouple system settings from individual projects.</p>
<h2 id="poetry-features">Poetry Features</h2>
<p>The <code>pyproject.toml</code> is a standardized file to manage the dependencies.</p>
<p><code>poetry</code> will also detect if you are inside a virtualenv and install the packages accordingly. So, poetry can be installed globally and used everywhere.</p>
<blockquote>
<p>:fire: Poetry is isolated from your system. This is a really good thing, bc each OS is a unique environment.</p>
</blockquote>
<p><code>poetry</code> also comes with a full fledged dependency resolution library.</p>
<hr />
<h1 id="create-new-poetry-project">Create new poetry project</h1>
<h2 id="abbreviated-create-new-project-with-poetry-env">Abbreviated:  Create new project with poetry env</h2>
<p>This is the abbreviated directions for power users. Scroll past this section to see detailed explanations.</p>
<ul>
<li>
<p><code>poetry new test_env</code></p>
<blockquote>
<p>:exclamation: Use <code>poetry init</code> for existing project</p>
</blockquote>
</li>
<li>
<p><code>cd $_</code>
&nbsp;</p>
</li>
<li>
<p><code>pyenv local 3.9.1</code> This will update the .python_version file
&nbsp;</p>
</li>
<li>
<p><code>pyenv shell 3.9.1</code>
&nbsp;</p>
</li>
<li>
<p><code>poetry env use $(pyenv which python)</code></p>
</li>
<li>modify python version, in  <code>pyproject.toml</code> by hand if required.
&nbsp;</li>
</ul>
<p>Show correct python version is being used
- <code>poetry env info</code>
&nbsp;</p>
<p>open VSCode and the shell shows the correct environment
- <code>(test-env-py3.9) [elxsj@WUST040517:~/test_env]$</code></p>
<h3 id="activate-virtual-environment">Activate Virtual Environment</h3>
<p>Open existing poetry environment, by runnning
<code>poetry shell</code></p>
<p>The poetry environment will display in shell:</p>
<pre><code>(breeding-apd-simulator-datapipeline-dw-py3.10) bash-3.2$
</code></pre>
<hr />
<h2 id="verbose-create-new-project-with-poetry-env">Verbose:  Create new project with poetry env</h2>
<p>In a shell generate a default project scaffold</p>
<ul>
<li><code>poetry new poetry_env</code></li>
<li><code>cd $_</code> switch into directory</li>
</ul>
<p><strong>OR Simulate an existing project.</strong> Create directory and add <code>pyproject.toml</code></p>
<p>:pencil: <code>poetry new poetry-demo</code> creates a directory for a new project. This  is not required for an existing project. For an existing project run <code>poetry init</code> in the existing project directory and step through the interactive dialogue.</p>
<pre><code class="language-shell">mkdir ~/test_error &amp;&amp; cd ~/test_error

echo -e &quot;[tool.poetry] \nname = 'smol-cls-mwaa-dags' \nversion = '0.1.0' \ndescription = '' \nauthors = ['memadsen &lt;michael.madsen@bayer.com&gt;'] \n\n[tool.poetry.dependencies] \npython = '^3.9' \n\n[tool.poetry.dev-dependencies] \n\n[build-system] \nrequires = ['poetry-core&gt;=1.0.0'] \nbuild-backend = 'poetry.core.masonry.api'&quot; &gt; pyproject.toml
</code></pre>
<ul>
<li>
<p><code>cd $_</code> switch into directory
&nbsp;</p>
</li>
<li>
<p>My directory scaffold has this structure</p>
</li>
</ul>
<pre><code class="language-shell">$ tree

.
├── README.md
├── poetry_env
│   └── __init__.py
├── pyproject.toml
└── tests
    └── __init__.py
</code></pre>
<ul>
<li>
<p><code>pyenv install 3.9.5</code> Optional, if previously installed</p>
</li>
<li>
<p><code>pyenv local 3.9.1</code> Add python version</p>
</li>
<li>This creates a <code>.python_version</code> file.</li>
</ul>
<pre><code class="language-shell">cat .python-version
3.9.1
</code></pre>
<p><code>poetry env use 3.9.1</code> set the Python used for the Poetry-managed environment, creating it if it doesn't already exist. envs.toml is created to record what the 'current interpreter' for the environment is (as the user has explicitly selected one, instead of letting Poetry select the interpreter implicitly)</p>
<p>Notice the <code>pyproject.toml</code>. This is where we define everything from our project’s metadata, dependencies, scripts, and more. If you’re familiar with Node.js, consider the <code>pyproject.toml</code> as an equivalent of the Node.js <code>package.json</code>.</p>
<ul>
<li><code>poetry env use $(pyenv which python)</code></li>
<li>modify python version, in  <code>pyproject.toml</code> by hand if required.
&nbsp;</li>
</ul>
<p><code>poetry install</code> Install and activate the virtual environment</p>
<hr />
<h4 id="add-python-interpreter-to-path-required-for-pycharm">Add python interpreter to path, required for <code>Pycharm</code>.</h4>
<p><img alt="py_interpreter_path" src="img/pycharm_add_py_interpreter.png" /></p>
<h4 id="check-poetry-toml-file-for-virtualenvs">Check <code>poetry .toml</code> file for <code>virtualenvs</code></h4>
<p>My preference is to have all the logic to my virtualenv in one place, e.g the <code>.toml</code> file.</p>
<pre><code class="language-shell">[tool.poetry]
name = &quot;microservice-aws-app-runner&quot;
version = &quot;0.1.0&quot;
description = &quot;&quot;
authors = [&quot;memadsen &lt;michael.madsen@bayer.com&gt;&quot;]

[tool.poetry.dependencies]
python = &quot;^3.9&quot;

[tool.poetry.dev-dependencies]

[build-system]
requires = [&quot;poetry-core&gt;=1.0.0&quot;]
build-backend = &quot;poetry.core.masonry.api&quot;

[virtualenvs]
create = true
in-project = true
</code></pre>
<h2 id="project-dependencies">Project Dependencies</h2>
<p>Track project dependencies using <code>poetry show --tree</code>.</p>
<p>Next</p>
<pre><code class="language-bash">poetry show --tree
requests-toolbelt 0.8.0 A utility belt for advanced users...
└── requests &lt;3.0.0,&gt;=2.0.1
    ├── certifi &gt;=2017.4.17
    ├── chardet &gt;=3.0.2,&lt;3.1.0
    ├── idna &gt;=2.5,&lt;2.7
    └── urllib3 &lt;1.23,&gt;=1.21.1

$ poetry show --latest
pendulum 2.0.4   1.4.5 Python datetimes made easy.
django   1.11.11 2.0.3 A high-level Python Web framework ...
requests 2.18.4  2.18.4 Python HTTP for Humans.
</code></pre>
<h2 id="add-libraries">Add libraries</h2>
<pre><code class="language-shell">poetry add mlrun==1.0.2

## Specify constraints when adding library
poetry add pendulum@^2.0.5
poetry add &quot;pendulum&gt;=2.0.5&quot;

</code></pre>
<h4 id="options-to-add-libraries">Options to add libraries</h4>
<ul>
<li><code>--dev (-D)</code> : Add package as development dependency.</li>
<li><code>--path</code> : The path to a dependency.</li>
<li><code>--optional</code> : Add as an optional dependency.</li>
<li><code>--dry-run</code> : Outputs the operations but will not execute anything (implicitly enables –verbose).</li>
<li><code>--lock</code> : Do not perform install (only update the lockfile).</li>
</ul>
<h3 id="update-libraries">Update libraries</h3>
<p>If you just want to update a few packages and not all, you can list them as such:</p>
<pre><code class="language-shell">poetry update requests toml
</code></pre>
<p>Note that this will not update versions for dependencies outside their version constraints specified in the <code>pyproject.toml</code> file. In other terms, <code>poetry update foo</code> will be a no-op if the version constraint specified for <code>foo</code> is <code>~2.3</code>or <code>2.3</code> and <code>2.4</code> is available. In order for <code>foo</code> to be updated, you must update the constraint, for example <code>^2.3</code>. You can do this using the <code>add</code> command.</p>
<h4 id="options">Options</h4>
<ul>
<li>--dry-run : Outputs the operations but will not execute anything (implicitly enables –verbose).</li>
<li>--no-dev : Do not install dev dependencies.</li>
<li>--lock : Do not perform install (only update the lockfile).</li>
</ul>
<pre><code class="language-shell">poetry lock --no-update
</code></pre>
<p>This makes it possible to remove a dependency from <code>pyproject.toml</code> and update the lock file without upgrading dependencies.</p>
<h3 id="dependency-group">Dependency Group</h3>
<pre><code class="language-shell">poetry add --group dev httpx

</code></pre>
<hr />
<h3 id="current-configuration">Current Configuration</h3>
<p>List the current configuration.</p>
<pre><code class="language-shell">$ poetry config --list

cache-dir = &quot;/Users/elxsj/Library/Caches/pypoetry&quot;
experimental.new-installer = true
experimental.system-git-client = false
installer.max-workers = null
installer.no-binary = null
installer.parallel = true
virtualenvs.create = true
virtualenvs.in-project = null
virtualenvs.options.always-copy = false
virtualenvs.options.no-pip = false
virtualenvs.options.no-setuptools = false
virtualenvs.options.system-site-packages = false
virtualenvs.path = &quot;{cache-dir}/virtualenvs&quot;  # /Users/elxsj/Library/Caches/pypoetry/virtualenvs
virtualenvs.prefer-active-python = false
virtualenvs.prompt = &quot;{project_name}-py{python_version}&quot;
</code></pre>
<p>Check the <code>Path</code> and <code>Executable</code> for this poetry environment:</p>
<pre><code class="language-shell">
$ poetry env info

System
Platform:   darwin
OS:         posix
Python:     3.10.0
Path:       /Users/elxsj/.pyenv/versions/3.10.0
Executable: /Users/elxsj/.pyenv/versions/3.10.0/bin/python3.10

</code></pre>
<hr />
<h3 id="poetry-export">Poetry Export</h3>
<p>If you have a Poetry project, you can create a requirements.txt file from your poetry.lock file:</p>
<pre><code class="language-shell">poetry export --output requirements.txt
</code></pre>
<hr />
<h2 id="poetry-commands">Poetry Commands</h2>
<p>Create a new project, create a virtual envrionment and add and remove dependencies using these commands:</p>
<table>
<thead>
<tr>
<th align="left">Command</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>poetry new [package-name]</code></td>
<td align="left">Start a new Python Project.</td>
</tr>
<tr>
<td align="left"><code>poetry init</code></td>
<td align="left">Create a pyproject.toml file interactively.</td>
</tr>
<tr>
<td align="left"><code>poetry install</code></td>
<td align="left">Install the packages inside the pyproject.toml file.</td>
</tr>
<tr>
<td align="left"><code>poetry add [package-name]</code></td>
<td align="left">Add a package to a Virtual Environment.</td>
</tr>
<tr>
<td align="left"><code>poetry add -D [package-name]</code></td>
<td align="left">Add a dev package to a Virtual Environment.</td>
</tr>
<tr>
<td align="left"><code>poetry remove [package-name]</code></td>
<td align="left">Remove a package from a Virtual Environment.</td>
</tr>
<tr>
<td align="left"><code>poetry remove -D [package-name]</code></td>
<td align="left">Remove a dev package from a Virtual Environment.</td>
</tr>
<tr>
<td align="left"><code>poetry self:update</code></td>
<td align="left">Update poetry to the latest stable version.</td>
</tr>
</tbody>
</table>
<h2 id="environment">Environment</h2>
<p><code>poetry env list</code> List all environments</p>
<p><code>poetry env remove env-name</code> Remove environment</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Some things to try if poetry has unusual errors.</p>
<p><code>poetry cache clear --all .</code> Clear cache</p>
<pre><code class="language-python">rm -f ./poetry.lock
poetry install --remove-untracked
</code></pre>
<h1 id="references">References</h1>
<p>Poetry github https://github.com/python-poetry/poetry</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.748e2769.min.js"></script>
      
    
  </body>
</html>