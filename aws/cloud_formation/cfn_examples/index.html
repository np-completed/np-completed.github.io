
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="mike madsen">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.11">
    
    
      
        <title>Cfn Examples - ml-papers-with-code</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue-teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cf-template-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ml-papers-with-code" class="md-header__button md-logo" aria-label="ml-papers-with-code" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ml-papers-with-code
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cfn Examples
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue-teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/np-completed/np-completed.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    np-completed.github.io
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../aws_pricing/regions_AZs/" class="md-tabs__link md-tabs__link--active">
        AWS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../docker/poetry_docker/" class="md-tabs__link">
        Docker
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../environment/proj_environment/" class="md-tabs__link">
        Environments
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../git/sync_git/" class="md-tabs__link">
        git
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../gh_actions/build-push-image/" class="md-tabs__link">
        Github Actions
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../hosting-and-deployment/gh-pages/" class="md-tabs__link">
        Hosting and Deployment
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../markdown/content/" class="md-tabs__link">
        Markdown
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../sagemaker/secure-sagemaker-network-firewall/" class="md-tabs__link">
        Sagemaker
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ml-papers-with-code" class="md-nav__button md-logo" aria-label="ml-papers-with-code" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ml-papers-with-code
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/np-completed/np-completed.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    np-completed.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          AWS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AWS" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          AWS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aws_pricing/regions_AZs/" class="md-nav__link">
        Regions and AZs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aws_pricing/exams_clf_c01/" class="md-nav__link">
        AWS Certifications
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Cloud Formation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud Formation" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Cloud Formation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cfn_diagrams/" class="md-nav__link">
        Cfn Diagrams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deploy_basic/" class="md-nav__link">
        Deploy Basic
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Cfn Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Cfn Examples
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cf-template-parameters" class="md-nav__link">
    CF Template Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-allocation" class="md-nav__link">
    Resource Allocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda" class="md-nav__link">
    Lambda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cf-outputs" class="md-nav__link">
    CF Outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-lambda-authorizer-for-use-with-aws-api-gateway" class="md-nav__link">
    Azure Lambda authorizer for use with AWS API Gateway
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../EC2/apache.yml" class="md-nav__link">
        ec2 Apache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../EC2/security_groups/" class="md-nav__link">
        ec2 Security Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lambda/lambda_github_oidc/" class="md-nav__link">
        lambda github oidc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" data-md-state="indeterminate" type="checkbox" id="__nav_2_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          K8s
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="K8s" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          K8s
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/eks/eksctl.md" class="md-nav__link">
        eksctl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/launch_eks_cluster/" class="md-nav__link">
        EKS Cluster
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" data-md-state="indeterminate" type="checkbox" id="__nav_2_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          VPC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="VPC" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          VPC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vpc/self_reference_security_groups/" class="md-nav__link">
        Self Reference SGs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vpc/vpc_private_subnets/" class="md-nav__link">
        VPC with private subnets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vpc/vpc_public_private_subnets/" class="md-nav__link">
        VPC public and priv subnets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vpc/vpc_public_subnets/" class="md-nav__link">
        VPC public subnets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vpc/vpc_test_network/" class="md-nav__link">
        VPC Test Network
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/poetry_docker/" class="md-nav__link">
        Poetry environment
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Environments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Environments" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Environments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/proj_environment/" class="md-nav__link">
        Environment Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/Makefile/" class="md-nav__link">
        Make Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/poetry_install/" class="md-nav__link">
        Poetry Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/poetry_new_project/" class="md-nav__link">
        Poetry New Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/pyproject_toml/" class="md-nav__link">
        Poetry toml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/poetry_group_dependencies/" class="md-nav__link">
        Poetry Group Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/pyenv_cheatsheet/" class="md-nav__link">
        Pyenv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../environment/vscode/" class="md-nav__link">
        VS Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          git
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="git" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" data-md-state="indeterminate" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/sync_git/" class="md-nav__link">
        Sync Repo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_branching/" class="md-nav__link">
        Branching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_diff/" class="md-nav__link">
        Diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_log/" class="md-nav__link">
        Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_merge/" class="md-nav__link">
        Merge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_pull_stash/" class="md-nav__link">
        Pull and Stash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_rebase/" class="md-nav__link">
        Rebase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_workflow/" class="md-nav__link">
        Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_branch_v1/" class="md-nav__link">
        Branch V1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/git_branching/" class="md-nav__link">
        Branch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" data-md-state="indeterminate" type="checkbox" id="__nav_5_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/setup/git_install_config/" class="md-nav__link">
        Install git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/setup/ssh_config/" class="md-nav__link">
        Setup SSH
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Github Actions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Github Actions" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Github Actions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/build-push-image/" class="md-nav__link">
        Build and Push Image to ghcr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/sbom/" class="md-nav__link">
        Software Bill of Materials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/cachetest/" class="md-nav__link">
        Cache Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/gh_actions_tutorial/" class="md-nav__link">
        GH Actions Description
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/gh_actions_cheatsheet/" class="md-nav__link">
        GH Actions Cheatsheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/gh_actions_poetry/" class="md-nav__link">
        GH Actions Poetry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/push_file_remote/" class="md-nav__link">
        Push Remote File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/docker_build_push/" class="md-nav__link">
        Docker Build and Push
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/dependabot/" class="md-nav__link">
        Requirements Dependabot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/ecr_actions_workflow/" class="md-nav__link">
        ECR Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/env_var/" class="md-nav__link">
        Env Vars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/runner/" class="md-nav__link">
        Self Hosted Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/share_docker_job/" class="md-nav__link">
        Share Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/read_project_file/" class="md-nav__link">
        Read Project File
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_15" data-md-state="indeterminate" type="checkbox" id="__nav_6_15" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_15">
          Checks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Checks" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_15">
          <span class="md-nav__icon md-icon"></span>
          Checks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/auth/" class="md-nav__link">
        Auth
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/internet/" class="md-nav__link">
        Internet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/network/" class="md-nav__link">
        Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/nodejs/" class="md-nav__link">
        Nodejs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gh_actions/checks/ssl_certs/" class="md-nav__link">
        SSL Certs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" data-md-state="indeterminate" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Hosting and Deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hosting and Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Hosting and Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hosting-and-deployment/gh-pages/" class="md-nav__link">
        Github Pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hosting-and-deployment/gh-pages-private-repo/" class="md-nav__link">
        Private Repo with GH Pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hosting-and-deployment/enable_github_pages/" class="md-nav__link">
        Enable GH Pages
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" data-md-state="indeterminate" type="checkbox" id="__nav_8" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Markdown
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Markdown" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Markdown
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../markdown/content/" class="md-nav__link">
        Admonitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../markdown/mermaid_graphs/" class="md-nav__link">
        Mermaid Graphs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../markdown/mkdocs/" class="md-nav__link">
        Mkdocs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../markdown/emoji_list/" class="md-nav__link">
        markdown emoji list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../markdown/markdown/" class="md-nav__link">
        markdown images
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" data-md-state="indeterminate" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Sagemaker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sagemaker" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Sagemaker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sagemaker/secure-sagemaker-network-firewall/" class="md-nav__link">
        Secure Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sagemaker/secure-sagemaker-network-firewall-summary/" class="md-nav__link">
        Secure Network Summary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/np-completed/np-completed.github.io/blob/main/docs/aws/cloud_formation/cfn_examples.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="cf-template-guide">CF template guide<a class="headerlink" href="#cf-template-guide" title="Permanent link">&para;</a></h1>
<h2 id="cf-template-parameters">CF Template <code>Parameters</code><a class="headerlink" href="#cf-template-parameters" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Parameters:
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  InstanceType:
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    Description: WebServer EC2 instance type
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    Type: String
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    Default: t3.small
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    AllowedValues: [t2.micro, t2.small, t3.micro, t3.small]
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    ConstraintDescription: must be a valid EC2 instance type.
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>  SSHLocation:
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>      Description: The IP address range that can be used to SSH to the EC2 instances
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>      Type: String
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>      MinLength: 9
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>      MaxLength: 18
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>      Default: 0.0.0.0/0
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>      AllowedPattern: (\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})/(\d{1,2})
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>      ConstraintDescription: must be a valid IP CIDR range of the form x.x.x.x/x.
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    LatestAmiId:
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>      Type:  &#39;AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;&#39;
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>      Default: &#39;/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2&#39;
</code></pre></div>
<ul>
<li><code>AllowedValues</code> add dropdown in AWS Console, for example:
<code>AllowedValues: [t2.micro, t2.small, t3.micro, t3.small]</code></li>
</ul>
<hr />
<h2 id="resource-allocation">Resource Allocation<a class="headerlink" href="#resource-allocation" title="Permanent link">&para;</a></h2>
<p>CF Template <code>Resources</code></p>
<ul>
<li>
<p><code>VpcId: !Ref VPC</code> Reference logical id of VPC</p>
</li>
<li>
<p><code>!Ref 'LatestAmiId'</code> Pull AMI Image Id from SSM ImageId</p>
</li>
<li>
<p><code>UserData:</code> Provision Apache webserver and restart automatically.</p>
</li>
</ul>
<p>Note, each resource will have a <strong>Logical ID</strong> (resource logical name) and a <strong>Physical ID</strong> (id assigned by AWS after resource creation). Think of Logical IDs as being used to reference resources within AWS CloudFormation template and Physical IDs being used to identify resources outside of AWS CloudFormation templates after they have been created.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Resources:
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  VPC:
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    Type: &#39;AWS::EC2::VPC&#39;
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    Properties:
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>      EnableDnsSupport: &#39;true&#39;
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>      EnableDnsHostnames: &#39;true&#39;
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>      CidrBlock: 10.0.0.0/16
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>  PublicSubnet:
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    Type: &#39;AWS::EC2::Subnet&#39;
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    Properties:
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>      CidrBlock: 10.0.0.0/24
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>      AvailabilityZone: &#39;us-east-1a&#39;
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>      VpcId: !Ref VPC
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>  InternetGateway:
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    Type: &#39;AWS::EC2::InternetGateway&#39;
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>  VPCGatewayAttachment:
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    Type: &#39;AWS::EC2::VPCGatewayAttachment&#39;
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    Properties:
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>      VpcId: !Ref VPC
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>      InternetGatewayId: !Ref InternetGateway
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>  PublicRouteTable:
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    Type: &#39;AWS::EC2::RouteTable&#39;
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    Properties:
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>      VpcId: !Ref VPC
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>  PublicRoute:
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    Type: &#39;AWS::EC2::Route&#39;
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    DependsOn: VPCGatewayAttachment
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>    Properties:
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>      RouteTableId: !Ref PublicRouteTable
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>      DestinationCidrBlock: 0.0.0.0/0
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>      GatewayId: !Ref InternetGateway
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>  PublicSubnetRouteTableAssociation:
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    Type: &#39;AWS::EC2::SubnetRouteTableAssociation&#39;
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>    Properties:
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>      SubnetId: !Ref PublicSubnet
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>      RouteTableId: !Ref PublicRouteTable
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>  WebServerSecurityGroup:
<a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>    Type: &#39;AWS::EC2::SecurityGroup&#39;
<a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>    Properties:
<a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>      VpcId: !Ref VPC
<a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>      GroupDescription: Allow access from HTTP and SSH traffic
<a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>      SecurityGroupIngress:
<a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>        - IpProtocol: tcp
<a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>          FromPort: &#39;80&#39;
<a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>          ToPort: &#39;80&#39;
<a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>          CidrIp: 0.0.0.0/0
<a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>        - IpProtocol: tcp
<a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>          FromPort: &#39;22&#39;
<a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>          ToPort: &#39;22&#39;
<a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a>          CidrIp: !Ref SSHLocation
<a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a>  #EC2 instance where users can authenticate using Instance Connect, or via cloud_user and the password provided by CFN outputs.
<a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a>  WebServerInstance:
<a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a>    Type: &#39;AWS::EC2::Instance&#39;
<a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a>    Properties:
<a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a>      InstanceType: !Ref InstanceType
<a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a>      ImageId: !Ref &#39;LatestAmiId&#39;
<a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a>      NetworkInterfaces:
<a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a>        - GroupSet:
<a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a>            - !Ref WebServerSecurityGroup
<a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a>          AssociatePublicIpAddress: &#39;true&#39;
<a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a>          DeviceIndex: &#39;0&#39;
<a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a>          DeleteOnTermination: &#39;true&#39;
<a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a>          SubnetId: !Ref PublicSubnet
<a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a>      UserData:
<a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a>        Fn::Base64:
<a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a>          Fn::Sub:
<a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a>            - |
<a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a>              #!/bin/bash -xe
<a id="__codelineno-1-69" name="__codelineno-1-69" href="#__codelineno-1-69"></a>              yum install -y ec2-instance-connect
<a id="__codelineno-1-70" name="__codelineno-1-70" href="#__codelineno-1-70"></a>              adduser cloud_user
<a id="__codelineno-1-71" name="__codelineno-1-71" href="#__codelineno-1-71"></a>              echo &#39;${Password}&#39; | passwd cloud_user --stdin
<a id="__codelineno-1-72" name="__codelineno-1-72" href="#__codelineno-1-72"></a>              sed &#39;s/PasswordAuthentication no/PasswordAuthentication yes/&#39; -i /etc/ssh/sshd_config
<a id="__codelineno-1-73" name="__codelineno-1-73" href="#__codelineno-1-73"></a>              service sshd restart
<a id="__codelineno-1-74" name="__codelineno-1-74" href="#__codelineno-1-74"></a>              yum update -y
<a id="__codelineno-1-75" name="__codelineno-1-75" href="#__codelineno-1-75"></a>              yum install -y httpd
<a id="__codelineno-1-76" name="__codelineno-1-76" href="#__codelineno-1-76"></a>              service httpd start
<a id="__codelineno-1-77" name="__codelineno-1-77" href="#__codelineno-1-77"></a>              chkconfig httpd on
<a id="__codelineno-1-78" name="__codelineno-1-78" href="#__codelineno-1-78"></a>              groupadd www
<a id="__codelineno-1-79" name="__codelineno-1-79" href="#__codelineno-1-79"></a>              usermod -a -G www cloud_user
<a id="__codelineno-1-80" name="__codelineno-1-80" href="#__codelineno-1-80"></a>              echo &#39;&lt;html&gt;&lt;h1&gt;Deploying a Basic Infrastructure Using CloudFormation Templates Hands-On Lab&lt;/h1&gt;&lt;h3&gt;Web Server&lt;/h3&gt;&lt;h3&gt;Availability Zone: &#39; &gt; /var/www/html/index.html
<a id="__codelineno-1-81" name="__codelineno-1-81" href="#__codelineno-1-81"></a>              curl http://169.254.169.254/latest/meta-data/placement/availability-zone &gt;&gt; /var/www/html/index.html
<a id="__codelineno-1-82" name="__codelineno-1-82" href="#__codelineno-1-82"></a>              echo &#39;&lt;/h3&gt; &lt;h3&gt;Instance Id: &#39; &gt;&gt; /var/www/html/index.html
<a id="__codelineno-1-83" name="__codelineno-1-83" href="#__codelineno-1-83"></a>              curl http://169.254.169.254/latest/meta-data/instance-id &gt;&gt; /var/www/html/index.html
<a id="__codelineno-1-84" name="__codelineno-1-84" href="#__codelineno-1-84"></a>              echo &#39;&lt;/h3&gt;&lt;/html&gt; &#39; &gt;&gt; /var/www/html/index.html
<a id="__codelineno-1-85" name="__codelineno-1-85" href="#__codelineno-1-85"></a>            - Password: !GetAtt &quot;CustomPasswordWebServer.password&quot;
</code></pre></div>
<hr />
<h2 id="lambda">Lambda<a class="headerlink" href="#lambda" title="Permanent link">&para;</a></h2>
<p>Use lambda so we don't need a PEM key for auth.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">#Lambda function to generate a password for cloud_user. Students edit nothing below this line.</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nt">RoleLambdaPasswordGenerator</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nt">Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AWS::IAM::Role</span><span class="w"></span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">Properties</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="nt">AssumeRolePolicyDocument</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">      </span><span class="nt">Version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2012-10-17&quot;</span><span class="w"></span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">      </span><span class="nt">Statement</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Allow</span><span class="w"></span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">          </span><span class="nt">Principal</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">            </span><span class="nt">Service</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lambda.amazonaws.com</span><span class="w"></span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">          </span><span class="nt">Action</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sts:AssumeRole</span><span class="w"></span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">    </span><span class="nt">Path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span><span class="w"></span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="nt">PolicyLambdaGeneratePassword</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">  </span><span class="nt">Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AWS::IAM::Policy</span><span class="w"></span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">  </span><span class="nt">Properties</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">    </span><span class="nt">Roles</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!Ref</span><span class="w"> </span><span class="s">&quot;RoleLambdaPasswordGenerator&quot;</span><span class="w"></span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">    </span><span class="nt">PolicyName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LambdaPasswordGeneratorPolicy</span><span class="w"></span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">    </span><span class="nt">PolicyDocument</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">      </span><span class="nt">Version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2012-10-17&quot;</span><span class="w"></span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">      </span><span class="nt">Statement</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Allow</span><span class="w"></span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">          </span><span class="nt">Action</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">logs:*</span><span class="w"></span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">          </span><span class="nt">Resource</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:logs:*:*:*</span><span class="w"></span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="nt">LambdaGeneratePassword</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">  </span><span class="nt">Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AWS::Lambda::Function</span><span class="w"></span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="w">  </span><span class="nt">Properties</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="w">    </span><span class="nt">Description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate a random password.</span><span class="w"></span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="w">    </span><span class="nt">Handler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">index.lambda_handler</span><span class="w"></span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="w">    </span><span class="nt">Role</span><span class="p">:</span><span class="w"> </span><span class="kt">!GetAtt</span><span class="w"> </span><span class="s">&quot;RoleLambdaPasswordGenerator.Arn&quot;</span><span class="w"></span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="w">    </span><span class="nt">Runtime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python3.7</span><span class="w"></span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="w">    </span><span class="nt">Timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="w">    </span><span class="nt">Code</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="w">      </span><span class="nt">ZipFile</span><span class="p">:</span><span class="w"> </span><span class="kt">!Join</span><span class="w"></span>
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;\n&quot;</span><span class="w"></span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">import cfnresponse;</span><span class="w"></span>
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">import json;</span><span class="w"></span>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">import string;</span><span class="w"></span>
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;import</span><span class="nv"> </span><span class="s">random;\n&quot;</span><span class="w"></span>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;PASSWORD_LENGTH</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">12;\n&quot;</span><span class="w"></span>
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;def</span><span class="nv"> </span><span class="s">lambda_handler(event,</span><span class="nv"> </span><span class="s">context):&quot;</span><span class="w"></span>
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">    </span><span class="s">print(&#39;##</span><span class="nv"> </span><span class="s">EVENT</span><span class="nv"> </span><span class="s">##&#39;)&quot;</span><span class="w"></span>
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">    </span><span class="s">print(event)&quot;</span><span class="w"></span>
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">    </span><span class="s">responseData</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">{};\n&quot;</span><span class="w"></span>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">    </span><span class="s">try:&quot;</span><span class="w"></span>
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">        </span><span class="s">chars</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">string.ascii_uppercase</span><span class="nv"> </span><span class="s">+</span><span class="nv"> </span><span class="s">string.ascii_lowercase</span><span class="nv"> </span><span class="s">+</span><span class="nv"> </span><span class="s">string.digits;&quot;</span><span class="w"></span>
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">        </span><span class="s">responseData[&#39;password&#39;]</span><span class="nv"> </span><span class="s">=</span><span class="nv">  </span><span class="s">&#39;&#39;.join(random.choice(chars)</span><span class="w"></span>
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="w">            </span><span class="s">for</span><span class="nv"> </span><span class="s">x</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">range(PASSWORD_LENGTH));&quot;</span><span class="w"></span>
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">        </span><span class="s">cfnresponse.send(event,</span><span class="nv"> </span><span class="s">context,</span><span class="nv"> </span><span class="s">cfnresponse.SUCCESS,</span><span class="nv"> </span><span class="s">responseData\</span>
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a><span class="w">            </span><span class="s">\ );\n&quot;</span><span class="w"></span>
<a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">    </span><span class="s">except</span><span class="nv"> </span><span class="s">Exception</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">e:&quot;</span><span class="w"></span>
<a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">        </span><span class="s">print</span><span class="nv"> </span><span class="s">(&#39;Error</span><span class="nv"> </span><span class="s">running</span><span class="nv"> </span><span class="s">PasswordGenerator&#39;);&quot;</span><span class="w"></span>
<a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">        </span><span class="s">print</span><span class="nv"> </span><span class="s">(e);&quot;</span><span class="w"></span>
<a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">        </span><span class="s">cfnresponse.send(event,</span><span class="nv"> </span><span class="s">context,</span><span class="nv"> </span><span class="s">cfnresponse.FAILED,</span><span class="nv"> </span><span class="s">responseData\</span>
<a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a><span class="w">            </span><span class="s">\ );\n&quot;</span><span class="w"></span>
<a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">    </span><span class="s">return</span><span class="nv"> </span><span class="s">responseData;&quot;</span><span class="w"></span>
<a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a><span class="nt">CustomPasswordWebServer</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a><span class="w">  </span><span class="nt">Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Custom::CustomPasswordWebServer</span><span class="w"></span>
<a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a><span class="w">  </span><span class="nt">Properties</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a><span class="w">    </span><span class="nt">Length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w"></span>
<a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a><span class="w">    </span><span class="nt">ServiceToken</span><span class="p">:</span><span class="w"> </span><span class="kt">!GetAtt</span><span class="w"> </span><span class="s">&quot;LambdaGeneratePassword.Arn&quot;</span><span class="w"></span>
</code></pre></div>
<hr />
<h2 id="cf-outputs">CF Outputs<a class="headerlink" href="#cf-outputs" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>#Outputs to provide useful information to students via the CFN Console
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Outputs:
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>URL:
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>  Value: !Join
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    - &#39;&#39;
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    - - &#39;http://&#39;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>      - !GetAtt
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>        - WebServerInstance
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>        - PublicIp
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>  Description: Newly created application URL
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>Outputs:
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>InstanceId:
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>  Description: InstanceId of the newly created EC2 instance
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>  Value: !Ref &#39;WebServerInstance&#39;
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>AZ:
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>  Description: Availability Zone of the newly created EC2 instance
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>  Value: !GetAtt [WebServerInstance, AvailabilityZone]
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>PublicDNS:
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>  Description: Public DNSName of the newly created EC2 instance
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>  Value: !GetAtt [WebServerInstance, PublicDnsName]
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>PublicIP:
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>  Description: Public IP address of the newly created EC2 instance
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>  Value: !GetAtt [WebServerInstance, PublicIp]
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>WebServerCustomPassword:
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>  Description: Password
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>  Value: !GetAtt &quot;CustomPasswordWebServer.password&quot;
</code></pre></div>
<hr />
<h2 id="azure-lambda-authorizer-for-use-with-aws-api-gateway">Azure Lambda authorizer for use with AWS API Gateway<a class="headerlink" href="#azure-lambda-authorizer-for-use-with-aws-api-gateway" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">AWSTemplateFormatVersion</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2010-09-09&quot;</span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nt">Description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Azure Lambda authorizer for use with AWS API Gateway</span><span class="w"></span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nt">Parameters</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span><span class="nt">DataClassificationTag</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="nt">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Classification</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">data</span><span class="nv"> </span><span class="s">stored</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">stack&quot;</span><span class="w"></span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nt">Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">String</span><span class="w"></span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;internal&quot;</span><span class="w"></span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="nt">AllowedValues</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">critical</span><span class="w"></span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">restricted</span><span class="w"></span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internal</span><span class="w"></span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">public</span><span class="w"></span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">  </span><span class="nt">OwnerTag</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">    </span><span class="nt">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Individual(s)/Velocity</span><span class="nv"> </span><span class="s">Group</span><span class="nv"> </span><span class="s">responsible</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">stack&quot;</span><span class="w"></span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="nt">ConstraintDescription</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Can</span><span class="nv"> </span><span class="s">contain</span><span class="nv"> </span><span class="s">only</span><span class="nv"> </span><span class="s">alphanumeric</span><span class="nv"> </span><span class="s">characters,</span><span class="nv"> </span><span class="s">spaces,</span><span class="nv"> </span><span class="s">dashes,</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">underscores.&quot;</span><span class="w"></span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="nt">AllowedPattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[-_/</span><span class="nv"> </span><span class="s">a-zA-Z0-9]*&quot;</span><span class="w"></span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">    </span><span class="nt">MaxLength</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;64&quot;</span><span class="w"></span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">    </span><span class="s">&quot;MinLength&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;4&quot;</span><span class="w"></span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">    </span><span class="nt">Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">String</span><span class="w"></span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="nt">Metadata</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">AWS::CloudFormation::Interface</span><span class="p p-Indicator">:</span><span class="w"></span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">    </span><span class="nt">ParameterGroups</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Label</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">          </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AWS Tags</span><span class="w"></span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">        </span><span class="nt">Parameters</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DataClassificationTag</span><span class="w"></span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OwnerTag</span><span class="w"></span>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../deploy_basic/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Deploy Basic" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Deploy Basic
            </div>
          </div>
        </a>
      
      
        
        <a href="../EC2/apache.yml" class="md-footer__link md-footer__link--next" aria-label="Next: ec2 Apache" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              ec2 Apache
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.instant", "navigation.tracking", "navigation.top", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "header.autohide", "announce.dismiss", "content.tabs.link", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.748e2769.min.js"></script>
      
    
  </body>
</html>